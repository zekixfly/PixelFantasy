<template>
  <div id="navList-m" class="nav-list-m">
    <img class="menu" src="././svg/iconmonstr-menu.svg" alt="" />
    <img class="close" src="././svg/iconmonstr-x-mark-lined.svg" alt="" />
  </div>
  <h1>
    <a href="./"><img src="././img/Pixel-FantasyX3.png" alt="Zeki's Secret Base." title="Zeki's Secret Base."/></a>
  </h1>
  <!-- <h1>Pixel Fantasy</h1> -->
  <ul id="navList" class="nav-list">
    <li>
      <a>Pixel</a>
      <ul class="nav-list-pixel">
        <li><a href="vogue">Vogue</a></li>
        <li><a href="animal">Animal</a></li>
        <li><a href="vehicle">Vehicle</a></li>
        <!-- <li ref="house">House Fantasy</li> -->
      </ul>
    </li>
    <li><a href="news">News</a></li>
    <li><a href="about">About</a></li>
    <li><a href="contact">Contact</a></li>
  </ul>
</template>

<script>
  const navListEl = zk.getId("navList");
  const navListMobileEl = zk.getId("navList-m");
  const bodyEl = zk.one("body");
  const navEl = zk.one("nav");
  const routes = [
    { path: "/", redirect: "/news" },
    { path: "/vogue", template: "pixel.html" },
    { path: "/animal", template: "pixel.html" },
    { path: "/vehicle", template: "pixel.html" },
    { path: "/news", template: "news.html" },
    { path: "/about", template: "about.html" },
    { path: "/contact", template: "contact.html" },
  ];
  const router = navListEl.routerBind({ mode: "history", routes });
  zk.log("router", router);

  let menuSwitch = false;
  const menuSlide = () => {
    menuSwitch = !menuSwitch;
    if (menuSwitch) {
      navListMobileEl.getClass("menu")[0].addClass("d-none");
      navListMobileEl.getClass("close")[0].addClass("d-block");
      bodyEl.addClass("offset-260");
      navEl.addClass("offset-0");
    } else {
      navListMobileEl.getClass("menu")[0].delClass("d-none");
      navListMobileEl.getClass("close")[0].delClass("d-block");
      bodyEl.delClass("offset-260");
      navEl.delClass("offset-0");
    }
  };
  navListMobileEl.on("click", menuSlide);
  navListEl.all("a[href]").on("click", () => navListMobileEl.getStyle("display") !== "none" && menuSlide());
</script>
